{"ast":null,"code":"import axios from 'axios';\nvar API_BASE_URL = 'http://localhost:8080/api';\nvar ACCESS_TOKEN = 'accessToken';\n\nvar request = function request(options) {\n  var headers = new Headers({\n    'Content-Type': 'application/json'\n  });\n\n  if (localStorage.getItem(ACCESS_TOKEN)) {\n    headers.append('Authorization', 'Bearer ' + localStorage.getItem(ACCESS_TOKEN));\n  }\n\n  var defaults = {\n    headers: headers\n  };\n  options = Object.assign({}, defaults, options);\n  return fetch(options.url, options).then(function (response) {\n    return response.json().then(function (json) {\n      if (!response.ok) {\n        return Promise.reject(json);\n      }\n\n      return json;\n    });\n  });\n};\n\nexport function login(loginRequest) {\n  return request({\n    url: API_BASE_URL + \"/auth/sign-in\",\n    method: 'POST',\n    body: JSON.stringify(loginRequest)\n  });\n}\nexport function signup(signupRequest) {\n  return request({\n    url: API_BASE_URL + \"/auth/sign-up\",\n    method: 'POST',\n    body: JSON.stringify(signupRequest)\n  });\n}\nexport function checkUsernameAvailability(username) {\n  return request({\n    url: API_BASE_URL + \"/user/exist-username?username=\" + username,\n    method: 'GET'\n  });\n}\nexport function checkEmailAvailability(email) {\n  return request({\n    url: API_BASE_URL + \"/user/exist-email?email=\" + email,\n    method: 'GET'\n  });\n}\nexport function getCurrentUser() {\n  if (!localStorage.getItem(ACCESS_TOKEN)) {\n    return Promise.reject(\"No access token set.\");\n  }\n\n  return request({\n    url: API_BASE_URL + \"/user/profile\",\n    method: 'GET'\n  });\n}\nexport function getUserProfile(username) {\n  return request({\n    url: API_BASE_URL + \"/users/\" + username,\n    method: 'GET'\n  });\n}\nexport function getListAccount() {\n  return request({\n    url: API_BASE_URL + \"/accounts/all\",\n    method: 'GET'\n  });\n} // class MemberDataService {\n//\n//     retrieveAllMembers() {\n//         return axios.get(`${ROOT_API}`);\n//     }\n//\n//     retrieveMember(id) {\n//         return axios.get(`${ROOT_API}/${id}`);\n//     }\n//\n//     deleteMember(id) {\n//         return axios.delete(`${ROOT_API}/${id}`);\n//     }\n//\n//     updateMember(id, member) {\n//         return axios.put(`${ROOT_API}/${id}`, member);\n//     }\n//\n//     createMember(member) {\n//         return axios.post(`${ROOT_API}`, member);\n//     }\n// }\n//\n// export default new MemberDataService()","map":{"version":3,"sources":["C:\\Users\\trinh\\Downloads\\project\\chat-app\\client-chat-app\\src\\service\\AuthenticationAPI.js"],"names":["axios","API_BASE_URL","ACCESS_TOKEN","request","options","headers","Headers","localStorage","getItem","append","defaults","Object","assign","fetch","url","then","response","json","ok","Promise","reject","login","loginRequest","method","body","JSON","stringify","signup","signupRequest","checkUsernameAvailability","username","checkEmailAvailability","email","getCurrentUser","getUserProfile","getListAccount"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nconst API_BASE_URL = 'http://localhost:8080/api';\r\nconst ACCESS_TOKEN = 'accessToken';\r\n\r\nconst request = (options) => {\r\n    const headers = new Headers({\r\n        'Content-Type': 'application/json',\r\n    })\r\n\r\n    if(localStorage.getItem(ACCESS_TOKEN)) {\r\n        headers.append('Authorization', 'Bearer ' + localStorage.getItem(ACCESS_TOKEN))\r\n    }\r\n\r\n    const defaults = {headers: headers};\r\n    options = Object.assign({}, defaults, options);\r\n\r\n    return fetch(options.url, options)\r\n        .then(response =>\r\n            response.json().then(json => {\r\n                if(!response.ok) {\r\n                    return Promise.reject(json);\r\n                }\r\n                return json;\r\n            })\r\n        );\r\n};\r\n\r\nexport function login(loginRequest) {\r\n    return request({\r\n        url: API_BASE_URL + \"/auth/sign-in\",\r\n        method: 'POST',\r\n        body: JSON.stringify(loginRequest)\r\n    });\r\n}\r\n\r\nexport function signup(signupRequest) {\r\n    return request({\r\n        url: API_BASE_URL + \"/auth/sign-up\",\r\n        method: 'POST',\r\n        body: JSON.stringify(signupRequest)\r\n    });\r\n}\r\n\r\nexport function checkUsernameAvailability(username) {\r\n    return request({\r\n        url: API_BASE_URL + \"/user/exist-username?username=\" + username,\r\n        method: 'GET'\r\n    });\r\n}\r\n\r\nexport function checkEmailAvailability(email) {\r\n    return request({\r\n        url: API_BASE_URL + \"/user/exist-email?email=\" + email,\r\n        method: 'GET'\r\n    });\r\n}\r\n\r\nexport function getCurrentUser() {\r\n    if(!localStorage.getItem(ACCESS_TOKEN)) {\r\n        return Promise.reject(\"No access token set.\");\r\n    }\r\n\r\n    return request({\r\n        url: API_BASE_URL + \"/user/profile\",\r\n        method: 'GET'\r\n    });\r\n}\r\n\r\nexport function getUserProfile(username) {\r\n    return request({\r\n        url: API_BASE_URL + \"/users/\" + username,\r\n        method: 'GET'\r\n    });\r\n}\r\n\r\nexport function getListAccount() {\r\n    return request({\r\n        url: API_BASE_URL + \"/accounts/all\",\r\n        method: 'GET'\r\n    });\r\n}\r\n\r\n// class MemberDataService {\r\n//\r\n//     retrieveAllMembers() {\r\n//         return axios.get(`${ROOT_API}`);\r\n//     }\r\n//\r\n//     retrieveMember(id) {\r\n//         return axios.get(`${ROOT_API}/${id}`);\r\n//     }\r\n//\r\n//     deleteMember(id) {\r\n//         return axios.delete(`${ROOT_API}/${id}`);\r\n//     }\r\n//\r\n//     updateMember(id, member) {\r\n//         return axios.put(`${ROOT_API}/${id}`, member);\r\n//     }\r\n//\r\n//     createMember(member) {\r\n//         return axios.post(`${ROOT_API}`, member);\r\n//     }\r\n// }\r\n//\r\n// export default new MemberDataService()\r\n\r\n"]},"metadata":{},"sourceType":"module"}